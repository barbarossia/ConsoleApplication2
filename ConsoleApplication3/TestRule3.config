<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <RulesEngine StartDate="1995-01-01" EndDate="9999-12-31">
    <CondtionTypes>
      <add Key="ConditionRuleOnT1" Type="ConsoleApplication3.ConditionRuleOnT1, ConsoleApplication3" />
    </CondtionTypes>
    <!-- Rule Types -->
    <RuleTypes>
      <add Key="IninValueOnT1" Type="ConsoleApplication3.IninValueOnT1, ConsoleApplication3" />
      <add Key="IninValueOnT2" Type="ConsoleApplication3.IninValueOnT2, ConsoleApplication3" />
      <add Key="IninValueOnT3" Type="ConsoleApplication3.IninValueOnT3, ConsoleApplication3" />
      <add Key="MapRuleOnT1IfTrue" Type="ConsoleApplication3.MapRuleOnT1IfTrue, ConsoleApplication3" />
      <add Key="MapRuleOnT1IfFalse" Type="ConsoleApplication3.MapRuleOnT1IfFalse, ConsoleApplication3" />
      <add Key="MapRuleOnT2" Type="ConsoleApplication3.MapRuleOnT2, ConsoleApplication3" />
      <add Key="ReduceRuleOnT1" Type="ConsoleApplication3.ReduceRuleOnT1, ConsoleApplication3" />
      <add Key="AssignRuleOnT1" Type="ConsoleApplication3.AssignRuleOnT1, ConsoleApplication3" />
      <add Key="ReduceRuleOnT2" Type="ConsoleApplication3.ReduceRuleOnT2, ConsoleApplication3" />
      <add Key="AssignRuleOnT2" Type="ConsoleApplication3.AssignRuleOnT2, ConsoleApplication3" />
    </RuleTypes>
    <MapReduce>
      <Map>
        <Rule Name="IninValueOnT1"  SourceType ="ConsoleApplication3.Test1, ConsoleApplication3"/>
        <MapRule Name="MapRuleOnT1IfTrue" SourceType ="ConsoleApplication3.Test1, ConsoleApplication3" TargetType ="ConsoleApplication3.Test2, ConsoleApplication3"></MapRule>
        <ForEach>
          <MapReduce>
            <Map>
              <Rule Name="IninValueOnT2" SourceType ="ConsoleApplication3.Test2, ConsoleApplication3"/>
              <MapRule Name="MapRuleOnT2" SourceType ="ConsoleApplication3.Test2, ConsoleApplication3" TargetType ="ConsoleApplication3.Test3, ConsoleApplication3"/>
              <ForEach >
                <Rule Name="IninValueOnT3" SourceType ="ConsoleApplication3.Test3, ConsoleApplication3"/>
              </ForEach>
            </Map>
            <Reduce>
              <ReduceRule Name="ReduceRuleOnT2" SourceType ="ConsoleApplication3.Test3, ConsoleApplication3" TargetType ="ConsoleApplication3.Test2, ConsoleApplication3"/>
              <ReduceRule Name="AssignRuleOnT2" SourceType ="ConsoleApplication3.Test3, ConsoleApplication3" TargetType ="ConsoleApplication3.Test2, ConsoleApplication3"/>
            </Reduce>
          </MapReduce>
        </ForEach>
      </Map>
      <Reduce >
        <ReduceRule Name="ReduceRuleOnT1" SourceType ="ConsoleApplication3.Test2, ConsoleApplication3" TargetType ="ConsoleApplication3.Test1, ConsoleApplication3"/>
        <ReduceRule Name="AssignRuleOnT1" SourceType ="ConsoleApplication3.Test2, ConsoleApplication3" TargetType ="ConsoleApplication3.Test1, ConsoleApplication3"/>
      </Reduce>
    </MapReduce>
  </RulesEngine>
</configuration>